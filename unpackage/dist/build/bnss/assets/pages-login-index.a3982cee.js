import{D as e,x as s,g as a,E as t,n as l,G as o,s as r,H as d,o as n,e as i,w as c,i as u,f as p,j as f,t as m,k as g,y as h,C as w,q as b,I as _,r as x}from"./index-ec5cfb06.js";import{_ as k,a as y}from"./uni-forms.b8ce2cda.js";import{r as I}from"./uni-app.es.e9a932bd.js";import{k as v,l as C,S as U}from"./server.c89461b6.js";import{_ as A}from"./_plugin-vue_export-helper.1b428a4d.js";const V=A({data:()=>({title:"UUBB",UserData:{},isEmailCode:0,tronWeb:"",walletAddress:"",Images:{value:""},rules:{account:{rules:[{required:!0,errorMessage:"Please enter your mobile phone number"}]},password:{rules:[{required:!0,errorMessage:"Create password"}]},code:{rules:[{required:!0,errorMessage:"Please enter your email verification code"}]}}}),onLoad(a){this.KaptchaHoled();const t=setInterval((()=>{window.okxwallet?(e(),window.okxwallet.tronLink.request({method:"tron_requestAccounts"}),window.okxwallet.tronLink.ready&&(this.tronWeb=window.okxwallet.tronLink.tronWeb,this.walletAddress=tronWeb.defaultAddress.base58,a&&"register"!=a.type&&this.IsByAddress()),clearInterval(t)):window.tronWeb?(e(),this.tronWeb=window.tronWeb,this.walletAddress=this.tronWeb.defaultAddress.base58,clearInterval(t),a&&"register"!=a.type&&this.IsByAddress()):s({title:"the dapp only support tron...",icon:"none",duration:1e5,mask:!0})}),200)},onBackPress:()=>"backbutton"!=options.from&&("navigateBack"!=options.from&&void 0),mounted(){const e=a("useer_date");e&&e.account&&(this.UserData.account=e.account.substr(2,10))},methods:{IsByAddress(){v({usdtAddress:this.walletAddress}).then((e=>{console.log(this.sellCode),e.data.flag&&t({url:"/pages/register/index?type=register",success:()=>{}})}))},KaptchaHoled(){C().then((e=>{this.Images=e.data}))},Register(){l({url:"/pages/register/index?type=register"})},ForgotPassword(){l({url:"/pages/my/modify/password?type=2"})},SignInHoled(){this.$refs.forms.validate().then((e=>{e.password=o(e.password).toUpperCase(),e.codeId=this.Images.id,e.usdtAddress=this.walletAddress,U(e).then((s=>{s.data.flag?l({url:"/pages/login/equipment/index?account="+e.account}):(r("useer_date",s.data),d({url:"/pages/index/index"}))}))})).catch((e=>{}))}}},[["render",function(e,s,a,t,l,o){const r=u,d=w,v=b,C=_,U=I(x("uni-forms-item"),k),A=I(x("uni-forms"),y);return n(),i(r,{class:"p-6 home-background"},{default:c((()=>[p(r,{style:{height:"var(--status-bar-height)",width:"100%"}}),p(r,{class:"logo-center"},{default:c((()=>[p(d,{class:"logo",src:"/assets/logo-be13b2b6.png"}),p(r,{class:"text-area mt-3"},{default:c((()=>[p(v,{class:"title"},{default:c((()=>[f(m(l.title),1)])),_:1})])),_:1})])),_:1}),p(r,{class:"background-white border-radius-2 p-4 mt-3"},{default:c((()=>[p(r,{class:"usersLogin"},{default:c((()=>[p(A,{ref:"forms",modelValue:l.UserData,rules:l.rules},{default:c((()=>[p(U,{label:"",name:"account"},{default:c((()=>[p(r,{class:"flex fle align-center border-1 p-1 font-md"},{default:c((()=>[p(v,{class:"pl-1"}),g("i",{class:"iconfont font-lg font-weight-bolder color-test"},""),p(C,{modelValue:l.UserData.account,"onUpdate:modelValue":s[0]||(s[0]=e=>l.UserData.account=e),class:"p-1 bl-1 ml-2 pl-2 width-100",type:"text",placeholder:"Enter the phone number"},null,8,["modelValue"])])),_:1})])),_:1}),p(U,{label:"",name:"password"},{default:c((()=>[p(r,{class:"flex fle align-center border-1 p-1 font-md"},{default:c((()=>[p(v,{class:"pl-1"}),g("i",{class:"iconfont font-lg font-weight-bolder color-test"},""),p(C,{modelValue:l.UserData.password,"onUpdate:modelValue":s[1]||(s[1]=e=>l.UserData.password=e),class:"p-1 bl-1 ml-2 pl-2 width-100",type:"password",placeholder:"Create password"},null,8,["modelValue"])])),_:1})])),_:1}),p(U,{label:"",name:"code"},{default:c((()=>[p(r,{class:"flex fle align-center border-1 p-1 font-md"},{default:c((()=>[p(v,{class:"pl-1"}),g("i",{class:"iconfont font-lg font-weight-bolder color-test"},""),p(C,{modelValue:l.UserData.code,"onUpdate:modelValue":s[2]||(s[2]=e=>l.UserData.code=e),class:"p-1 bl-1 ml-2 pl-2 width-100",type:"text",placeholder:"Enter the verification code"},null,8,["modelValue"])])),_:1}),p(r,{class:"flex justify-between align-center mt-3"},{default:c((()=>[p(d,{src:"data:image/jpg;base64,"+l.Images.value,style:h(""==l.Images.value?"width: 300upx;max-height: 100upx;":"width: 300upx;"),mode:"widthFix"},null,8,["src","style"]),p(v,{class:"color-1",onClick:o.KaptchaHoled},{default:c((()=>[f("Change one")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue","rules"])])),_:1}),p(r,{class:"btn-login font-lg mt-5 p-3 border-radius-2 balens",onClick:o.SignInHoled},{default:c((()=>[f("Sign In")])),_:1},8,["onClick"]),p(r,{class:"flex justify-between font width-100 mt-5"},{default:c((()=>[p(v,{class:"color-1",onClick:o.Register},{default:c((()=>[f("Sign up")])),_:1},8,["onClick"]),p(v,{class:"color-1",onClick:o.ForgotPassword},{default:c((()=>[f("Forgot password")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-a45fb4cb"]]);export{V as default};
