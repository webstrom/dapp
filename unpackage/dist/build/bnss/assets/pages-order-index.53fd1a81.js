import{a as t,x as e,n as a,o as s,e as i,w as l,i as r,f as d,l as o,j as n,y as h,m as c,t as u,k as g,z as p,A as w,F as f,q as y,r as m,S as _}from"./index-ec5cfb06.js";import{_ as b}from"./uni-load-more.21a01b68.js";import{r as k}from"./uni-app.es.e9a932bd.js";import{h as L,i as x}from"./server.c89461b6.js";import{_ as C}from"./_plugin-vue_export-helper.1b428a4d.js";const S=C({data:()=>({isRefresher:!1,pagelist:{pageNum:1,pageSize:20},bankData:"",allCount:0,allCount_withdraw:0,dataList:[],rquestdata:!1,dataMore:"more",changeslect:1,pagelist_withdraw:{pageNum:1,pageSize:20},rquestdata_withdraw:!1,dataList_withdraw:[]}),onLoad(){this.dataList_withdraw=[],this.dataList=[],this.pagelist={pageNum:1,pageSize:20},this.pagelist_withdraw={pageNum:1,pageSize:20},this.oderList(),this.rechengenList()},onShow(){this.dataList_withdraw=[],this.pagelist_withdraw={pageNum:1,pageSize:20},this.rechengenList()},methods:{ConfirmHoled(t){2==t.status&&2==t.customerStatus?this.ConfirmReceipt():this.detailsHoled(t.withdrawId)},detailsHoled(t){this.DispayNavigateToClick("/pages/order/details?id="+t)},ConfirmReceipt(){if(!this.btn)return!1;t({title:"Tips",content:"Have you received the payment？",cancelText:"NO",confirmText:"YES",confirmColor:"",cancelColor:"",success:t=>{t.confirm&&(console.log(this.bankData.withdrawId),this.btn=!1,ServerWithdrawApiVerify({withdrawId:this.bankData.withdrawId}).then((t=>{this.oderList(),e({icon:"success",duration:3e3,title:t.msg})})).catch((()=>{this.btn=!0})))}})},refresherrefreshFun(){this.dataList_withdraw=[],this.dataList=[],this.pagelist={pageNum:1,pageSize:20},this.pagelist_withdraw={pageNum:1,pageSize:20},this.isRefresher=!0,this.oderList(),this.rechengenList()},refresherpullingFun(){},DispayNavigateToClick(t){a({url:t})},RechargeAndCashOutHoled(t){this.changeslect=t,2===t&&(this.pagelist_withdraw={pageNum:1,pageSize:20},this.dataList_withdraw=[],this.rechengenList()),1===t&&(this.pagelist={pageNum:1,pageSize:20},this.dataList=[],this.oderList())},onLoadMore(){1===this.changeslect&&this.rquestdata&&(Math.ceil(this.allCount/this.pagelist.pageSize)>this.pagelist.pageNum?(this.pagelist.pageNum+=1,this.dataMore="loading",this.oderList()):this.dataMore="noMore"),2===this.changeslect&&this.rquestdata_withdraw&&(Math.ceil(this.allCount_withdraw/this.pagelist_withdraw.pageSize)>this.pagelist_withdraw.pageNum?(this.pagelist_withdraw.pageNum+=1,this.dataMore="loading",this.rechengenList()):this.dataMore="noMore")},randerTime(t){let e=new Date(t).getTime();const a=new Date(e),s=a.getFullYear(),i=(a.getMonth()+1<10?"0"+(a.getMonth()+1):a.getMonth()+1)+"/";return{dateString:(a.getDate()<10?"0"+a.getDate():a.getDate())+"/"+i+s,times:(a.getHours()<10?"0"+a.getHours():a.getHours())+":"+(a.getMinutes()<10?"0"+a.getMinutes():a.getMinutes())}},oderList(){this.rquestdata=!1,L(this.pagelist).then((t=>{if(this.allCount=t.allCount,t.allCount>this.dataList.length){for(const e in t.data)t.data[e].yers=this.randerTime(t.data[e].createTime).dateString,t.data[e].time=this.randerTime(t.data[e].createTime).times,this.dataList.push(t.data[e]);this.rquestdata=!0,this.dataMore="more"}this.isRefresher=!1})).catch((t=>(this.dataMore="more",!1)))},rechengenList(){this.rquestdata_withdraw=!1,x(this.pagelist_withdraw).then((t=>{if(this.allCount_withdraw=t.allCount,console.log(t),t.allCount>this.dataList_withdraw.length){for(const e in t.data)t.data[e].yers=this.randerTime(t.data[e].createTime).dateString,t.data[e].time=this.randerTime(t.data[e].createTime).times,this.dataList_withdraw.push(t.data[e]);this.rquestdata_withdraw=!0,this.dataMore="more"}this.isRefresher=!1})).catch((t=>(this.dataMore="more",!1)))}}},[["render",function(t,e,a,L,x,C){const S=r,T=y,M=k(m("uni-load-more"),b),N=_;return s(),i(S,{class:"home-background"},{default:l((()=>[d(S,{class:"flex justify-between font-md text-align-center background-white"},{default:l((()=>[d(S,{class:o(1===x.changeslect?"color-1 border-1 pt-2 pb-2":"border-1 pt-2 pb-2"),style:{display:"block",width:"50%"},onClick:e[0]||(e[0]=t=>C.RechargeAndCashOutHoled(1))},{default:l((()=>[n("Sold")])),_:1},8,["class"]),d(S,{class:o(2===x.changeslect?"color-1 border-1 pt-2 pb-2":"border-1 pt-2 pb-2"),style:{display:"block",width:"50%"},onClick:e[1]||(e[1]=t=>C.RechargeAndCashOutHoled(2))},{default:l((()=>[n("Withdraw")])),_:1},8,["class"])])),_:1}),d(S,{class:"p-3 pb-2 home-background"},{default:l((()=>[d(S,{class:"flex justify-between font"},{default:l((()=>[1===x.changeslect?(s(),i(T,{key:0,class:"text-align-center",style:h((x.changeslect,"display: block;width: 20%;"))},{default:l((()=>[n("Order No")])),_:1},8,["style"])):c("",!0),d(T,{class:"text-align-center",style:h((x.changeslect,"display: block;width: 20%;"))},{default:l((()=>[n("Amount")])),_:1},8,["style"]),d(T,{class:"text-align-center",style:{display:"block",width:"15%"}},{default:l((()=>[n(u(1===x.changeslect?"USDT":"Type"),1)])),_:1}),d(T,{class:"text-align-center",style:h(1===x.changeslect?"display: block;width: 25%;":"display: block;width: 20%;")},{default:l((()=>[n("Date")])),_:1},8,["style"]),d(T,{class:"text-align-center",style:h((x.changeslect,"display: block;width: 20%;"))},{default:l((()=>[n("Status")])),_:1},8,["style"]),2===x.changeslect?(s(),i(T,{key:1,class:"text-align-center",style:h((x.changeslect,"display: block;width: 20%;"))},{default:l((()=>[n("Operate")])),_:1},8,["style"])):c("",!0)])),_:1})])),_:1}),d(S,{class:"p-3 pt-1 border-radius-2"},{default:l((()=>[d(N,{class:"scroll-order","refresher-threshold":100,"refresher-triggered":x.isRefresher,onRefresherpulling:C.refresherpullingFun,"refresher-enabled":"true",onRefresherrefresh:C.refresherrefreshFun,"scroll-y":"true",onScrolltolower:C.onLoadMore},{default:l((()=>[1===x.changeslect?(s(),i(S,{key:0,class:"all-order"},{default:l((()=>[x.dataList.length<=0?(s(),i(S,{key:0,class:"text-align-center p-10 color-test"},{default:l((()=>[g("i",{class:"iconfont font-back font-italic color-test"},""),d(S,null,{default:l((()=>[n("You don't have an order yet. Go and place it now")])),_:1})])),_:1})):c("",!0),x.dataList.length>0?(s(!0),p(f,{key:1},w(x.dataList,((t,e)=>(s(),i(S,{key:e,class:"flex font-md justify-between p-2 background-white border-bottom align-center"},{default:l((()=>[d(T,{class:"text-align-center",style:{display:"block",width:"20%","white-space":"normal","word-break":"break-all"}},{default:l((()=>[n(u(t.orderCode),1)])),_:2},1024),d(T,{class:"text-align-center color-1",style:{display:"block",width:"20%"}},{default:l((()=>[d(T,null,{default:l((()=>[n("₹")])),_:1}),n(u(t.orderAmount),1)])),_:2},1024),d(T,{class:"text-align-center color-1",style:{display:"block",width:"15%"}},{default:l((()=>[n(u(t.usdtNumber),1)])),_:2},1024),d(T,{class:"text-align-center font",style:{display:"block",width:"25%"}},{default:l((()=>[n(u(t.yers),1),g("br"),n(u(t.time),1)])),_:2},1024),d(T,{class:"text-align-center",style:h(1==t.status?"color:red;width: 20%;":"color:#529b2e;width: 20%;")},{default:l((()=>[n(u(1==t.status?"pending":"success"),1)])),_:2},1032,["style"])])),_:2},1024)))),128)):c("",!0)])),_:1})):c("",!0),2===x.changeslect?(s(),i(S,{key:1,class:"all-order"},{default:l((()=>[0===x.allCount_withdraw?(s(),i(S,{key:0,class:"text-align-center p-10 color-test"},{default:l((()=>[g("i",{class:"iconfont font-back font-italic color-test"},""),d(S,null,{default:l((()=>[n("There is currently no withdrawal record")])),_:1})])),_:1})):c("",!0),x.allCount_withdraw>0?(s(!0),p(f,{key:1},w(x.dataList_withdraw,((t,e)=>(s(),i(S,{key:e,class:"flex font-md justify-between p-2 background-white border-bottom align-center"},{default:l((()=>[d(T,{class:"text-align-center color-1",style:{display:"block",width:"20%"}},{default:l((()=>[d(T,null,{default:l((()=>[n("₹")])),_:1}),n(u(t.amount),1)])),_:2},1024),d(T,{class:"text-align-center color-1",style:{display:"block",width:"25%"}},{default:l((()=>[n(u(1==t.types?"balance":"bonus"),1)])),_:2},1024),d(T,{class:"text-align-center font",style:{display:"block",width:"20%"}},{default:l((()=>[n(u(t.yers),1),g("br"),n(u(t.time),1)])),_:2},1024),d(T,{class:"text-align-center",style:h(3==t.status?"color:red;width: 20%;":2==t.status?"color:#529b2e;width: 25%;":"width: 25%;")},{default:l((()=>[n(u(1==t.status?"pending":2==t.status?"success":"failed"),1)])),_:2},1032,["style"]),2==t.status&&2==t.customerStatus?(s(),i(T,{key:0,class:"text-align-center font balens btn-login border-radius-1 p-1",style:{display:"block",width:"20%",position:"relative"},onClick:e=>C.DispayNavigateToClick("/pages/order/details?id="+t.withdrawId)},{default:l((()=>[n("details ")])),_:2},1032,["onClick"])):(s(),i(T,{key:1,class:"text-align-center font p-1",style:{display:"block",width:"20%",color:"#1c55cc",position:"relative"},onClick:e=>C.DispayNavigateToClick("/pages/order/details?id="+t.withdrawId)},{default:l((()=>[n("details ")])),_:2},1032,["onClick"]))])),_:2},1024)))),128)):c("",!0)])),_:1})):c("",!0),1===x.changeslect&&x.dataList.length>=x.pagelist.pageSize||2===x.changeslect&&x.dataList_withdraw.length>=x.pagelist_withdraw.pageSize?(s(),i(M,{key:2,status:x.dataMore,contentText:{contentdown:"Pull up to display more",contentrefresh:"Loading...",contentnomore:"There's no more data left"}},null,8,["status","contentText"])):c("",!0)])),_:1},8,["refresher-triggered","onRefresherpulling","onRefresherrefresh","onScrolltolower"])])),_:1})])),_:1})}],["__scopeId","data-v-489de594"]]);export{S as default};
