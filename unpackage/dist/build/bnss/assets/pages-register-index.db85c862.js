import{D as e,x as l,G as a,n as t,o as s,e as o,w as r,i as n,f as d,k as i,j as c,t as u,q as f,I as m,r as p}from"./index-ec5cfb06.js";import{_ as h,a as w}from"./uni-forms.b8ce2cda.js";import{r as b}from"./uni-app.es.e9a932bd.js";import{B as g,C as _,a as C}from"./server.c89461b6.js";import{_ as x}from"./_plugin-vue_export-helper.1b428a4d.js";const U=x({data:()=>({agreementChecked:!0,UserData:{},confirmpassword:"",walletAddress:"",tronWeb:"",withdrawPassword:"",seconds:0,isEmailCode:0,rules:{account:{rules:[{required:!0,errorMessage:"Please enter your mobile phone number"}]},phoneCode:{rules:[{required:!0,errorMessage:"Please enter your phone verification code"}]},email:{rules:[{required:!0,errorMessage:"Please enter your email address"}]},emailCode:{rules:[{required:!0,errorMessage:"Please enter your email verification code"}]},userName:{rules:[{required:!0,errorMessage:"Please enter your name"}]},password:{rules:[{required:!0,errorMessage:"Please enter an password"}]},withdrawPassword:{rules:[{required:!0,errorMessage:"Please enter an withdrawal password"}]}}}),mounted(){const a=setInterval((()=>{window.okxwallet?(window.okxwallet.tronLink.request({method:"tron_requestAccounts"}),e(),window.okxwallet.tronLink.ready&&(this.tronWeb=window.okxwallet.tronLink.tronWeb,this.walletAddress=tronWeb.defaultAddress.base58),clearInterval(a)):window.tronWeb?(e(),this.tronWeb=window.tronWeb,this.walletAddress=this.tronWeb.defaultAddress.base58,clearInterval(a)):l({title:"the dapp only support tron...",icon:"none",duration:1e5,mask:!0})}),200)},methods:{SendEmailCode(){if(null==this.UserData.email||""==this.UserData.email)return l({icon:"none",duration:3e3,title:"Please enter your email address"}),!1;const e=null;clearInterval(e),g({email:this.UserData.email}).then((a=>{l({icon:"success",duration:3e3,title:a.msg}),this.isEmailCode=60,e=setInterval((()=>{this.isEmailCode>0?this.isEmailCode--:(this.isEmailCode=0,clearInterval(e))}),1e3)}))},SendPhoneVerification(){if(null==this.UserData.account||""==this.UserData.account)return l({icon:"none",duration:3e3,title:"Please enter your phone number"}),!1;const e=null;clearInterval(e),_({account:"91"+this.UserData.account}).then((a=>{l({icon:"success",duration:3e3,title:a.msg}),this.seconds=60,e=setInterval((()=>{this.seconds>0?this.seconds--:(this.seconds=0,clearInterval(e))}),1e3)}))},RegisterHoled(){this.$refs.form.validate().then((e=>e.password!=this.withdrawPassword?(l({icon:"none",duration:3e3,title:"The two password inputs are inconsistent"}),!1):""==this.walletAddress?(l({icon:"none",duration:3e3,title:"Failed to obtain wallet address"}),!1):(e.password=a(e.password).toUpperCase(),e.usdtAddress=this.walletAddress,void C(e).then((e=>{l({icon:"none",duration:3e3,title:`${e.msg}`}),setTimeout((()=>{t({url:"/pages/login/index"})}),3e3)}))))).catch((e=>{console.log("表单错误信息：",e)}))},LoginIn(){t({url:"/pages/login/index"})}}},[["render",function(e,l,a,t,g,_){const C=f,x=m,U=n,V=b(p("uni-forms-item"),h),y=b(p("uni-forms"),w);return s(),o(U,{class:"p-3 color-2"},{default:r((()=>[d(U,{class:"usersLogin"},{default:r((()=>[d(y,{ref:"form",modelValue:g.UserData,rules:g.rules},{default:r((()=>[d(U,{class:"background-white border-radius-2 p-3"},{default:r((()=>[d(V,{label:"",name:"account"},{default:r((()=>[d(U,{class:"phonecode flex fle align-center border-1 p-1 font-md"},{default:r((()=>[d(C,{class:"pl-1"}),i("i",{class:"iconfont font-lg font-weight-bolder color-test"},""),d(x,{modelValue:g.UserData.account,"onUpdate:modelValue":l[0]||(l[0]=e=>g.UserData.account=e),maxlength:"10",class:"p-1 bl-1 ml-2 pl-2 width-100",type:"text",placeholder:"Enter your mobile phone number"},null,8,["modelValue"])])),_:1})])),_:1}),d(V,{label:"",name:"phoneCode"},{default:r((()=>[d(U,{class:"flex fle align-center border-1 p-1 font-md"},{default:r((()=>[d(C,{class:"pl-1"}),i("i",{class:"iconfont font-lg font-weight-bolder color-test"},""),d(x,{modelValue:g.UserData.phoneCode,"onUpdate:modelValue":l[1]||(l[1]=e=>g.UserData.phoneCode=e),class:"p-1 bl-1 ml-2 pl-2 width-100",type:"text",placeholder:"Your phone verification code"},null,8,["modelValue"])])),_:1})])),_:1}),d(U,{class:"font-small flex justify-between"},{default:r((()=>[d(C,null,{default:r((()=>[c("Click send verification code ")])),_:1}),0===g.seconds?(s(),o(C,{key:0,class:"color-1",onClick:_.SendPhoneVerification},{default:r((()=>[c("Send Verification")])),_:1},8,["onClick"])):(s(),o(C,{key:1},{default:r((()=>[c("After "+u(g.seconds)+" seconds Resend",1)])),_:1}))])),_:1})])),_:1}),d(U,{class:"background-white border-radius-2 p-3 mt-2"},{default:r((()=>[d(V,{label:"",name:"email"},{default:r((()=>[d(U,{class:"phonecode flex fle align-center border-1 p-1 font-md"},{default:r((()=>[d(C,{class:"pl-1"}),i("i",{class:"iconfont font-lg font-weight-bolder color-test"},""),d(x,{modelValue:g.UserData.email,"onUpdate:modelValue":l[2]||(l[2]=e=>g.UserData.email=e),class:"p-1 bl-1 ml-2 pl-2 width-100",type:"text",placeholder:"Enter your email address"},null,8,["modelValue"])])),_:1})])),_:1}),d(V,{label:"",name:"emailCode"},{default:r((()=>[d(U,{class:"flex fle align-center border-1 p-1 font-md"},{default:r((()=>[d(C,{class:"pl-1"}),i("i",{class:"iconfont font-lg font-weight-bolder color-test"},""),d(x,{modelValue:g.UserData.emailCode,"onUpdate:modelValue":l[3]||(l[3]=e=>g.UserData.emailCode=e),class:"p-1 bl-1 ml-2 pl-2 width-100",type:"text",placeholder:"Your email verification code"},null,8,["modelValue"])])),_:1})])),_:1}),d(U,{class:"font-small flex justify-between"},{default:r((()=>[d(C,null,{default:r((()=>[c("Click send verification code ")])),_:1}),0===g.isEmailCode?(s(),o(C,{key:0,class:"color-1",onClick:_.SendEmailCode},{default:r((()=>[c("Send Verification")])),_:1},8,["onClick"])):(s(),o(C,{key:1},{default:r((()=>[c("After "+u(g.isEmailCode)+" seconds Resend",1)])),_:1}))])),_:1})])),_:1}),d(U,{class:"background-white border-radius-2 p-3 mt-2"},{default:r((()=>[d(V,{label:"",name:"userName"},{default:r((()=>[d(U,{class:"phonecode flex fle align-center border-1 p-1 font-md"},{default:r((()=>[d(C,{class:"pl-1"}),i("i",{class:"iconfont font-lg font-weight-bolder color-test"},""),d(x,{modelValue:g.UserData.userName,"onUpdate:modelValue":l[4]||(l[4]=e=>g.UserData.userName=e),class:"p-1 bl-1 ml-2 pl-2 width-100",type:"text",placeholder:"Please enter your name"},null,8,["modelValue"])])),_:1})])),_:1}),d(V,{label:"",name:"usdtAddress"},{default:r((()=>[d(U,{class:"flex fle align-center border-1 p-1 font-md"},{default:r((()=>[d(C,{class:"pl-1"}),i("i",{class:"iconfont font-lg font-weight-bolder color-test"},""),d(x,{modelValue:g.walletAddress,"onUpdate:modelValue":l[5]||(l[5]=e=>g.walletAddress=e),class:"p-1 bl-1 ml-2 pl-2 width-100",disabled:"true",type:"text",placeholder:"Enter your USDT wallet address"},null,8,["modelValue"])])),_:1})])),_:1}),d(V,{label:"",name:"invitationCode"},{default:r((()=>[d(U,{class:"flex fle align-center border-1 p-1 font-md"},{default:r((()=>[d(C,{class:"pl-1"}),i("i",{class:"iconfont font-lg font-weight-bolder color-test"},""),d(x,{modelValue:g.UserData.invitationCode,"onUpdate:modelValue":l[6]||(l[6]=e=>g.UserData.invitationCode=e),class:"p-1 bl-1 ml-2 pl-2 width-100",type:"text",placeholder:"Please enter the invitation code"},null,8,["modelValue"])])),_:1})])),_:1}),d(V,{label:"",name:"password"},{default:r((()=>[d(U,{class:"flex fle align-center border-1 p-1 font-md"},{default:r((()=>[d(C,{class:"pl-1"}),i("i",{class:"iconfont font-lg font-weight-bolder color-test"},""),d(x,{modelValue:g.UserData.password,"onUpdate:modelValue":l[7]||(l[7]=e=>g.UserData.password=e),class:"p-1 bl-1 ml-2 pl-2 width-100",type:"text",placeholder:"Create password"},null,8,["modelValue"])])),_:1})])),_:1}),d(U,{class:"flex fle align-center border-1 p-1 font-md"},{default:r((()=>[d(C,{class:"pl-1"}),i("i",{class:"iconfont font-lg font-weight-bolder color-test"},""),d(x,{modelValue:g.withdrawPassword,"onUpdate:modelValue":l[8]||(l[8]=e=>g.withdrawPassword=e),class:"p-1 bl-1 ml-2 pl-2 width-100",type:"text",placeholder:"Confirm Password"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue","rules"]),d(U,{class:"btn-login font-lg mt-5 p-3 border-radius-2 balens",onClick:_.RegisterHoled},{default:r((()=>[c("Register")])),_:1},8,["onClick"]),d(U,{class:"flex justify-between font width-100 mt-5"},{default:r((()=>[d(C,{class:"color-1"}),d(C,{class:"color-1",onClick:_.LoginIn},{default:r((()=>[c("Existing account to log in")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-dabeb66e"]]);export{U as default};
