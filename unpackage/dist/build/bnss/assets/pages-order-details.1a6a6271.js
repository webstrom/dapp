import{B as t,x as a,a as e,o as s,e as l,w as n,i as r,f as i,j as o,t as u,k as d,y as f,m as c,q as m}from"./index-ec5cfb06.js";import{E as b,F as h}from"./server.c89461b6.js";import{_}from"./_plugin-vue_export-helper.1b428a4d.js";const w=_({data:()=>({withdrawId:"",withdrawDate:"",bankData:{},btn:!0}),onLoad(t){t&&t.id&&(this.withdrawId=t.id,this.getDetils(t.id))},methods:{orderCodeHoled(e){t({data:e,success:()=>{a({icon:"success",title:"Copy Success"})}})},randerTime(t){let a=new Date(t).getTime();const e=new Date(a),s=e.getFullYear()+"/",l=(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"/",n=e.getDate()<10?"0"+e.getDate():e.getDate(),r=(e.getHours()<10?"0"+e.getHours():e.getHours())+":",i=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes();return s.substr(2,3)+l+n+" "+(r+i)},getDetils(t){b({withdrawId:t}).then((t=>{null!=t.data.arrivalTime&&""!=t.data.arrivalTime&&(t.data.arrivalTime=this.randerTime(t.data.arrivalTime),console.log(t.data.arrivalTime)),null!=t.data.createTime&&""!=t.data.createTime&&(t.data.createTime=this.randerTime(t.data.createTime)),this.bankData=t.data}))},ConfirmReceipt(){if(!this.btn)return!1;e({title:"Tips",content:"Have you received the payment？",cancelText:"NO",confirmText:"YES",confirmColor:"",cancelColor:"",success:t=>{t.confirm&&(console.log(this.bankData.withdrawId),this.btn=!1,h({withdrawId:this.bankData.withdrawId}).then((t=>{a({icon:"success",duration:3e3,title:t.msg}),setTimeout((()=>{this.getDetils(this.bankData.withdrawId),this.btn=!0}),3e3)})).catch((()=>{this.btn=!0})))}})}}},[["render",function(t,a,e,b,h,_){const w=m,k=r;return s(),l(k,{class:"p-3 color-2"},{default:n((()=>[i(k,{class:"background-white border-radius-2 p-3 pt-2 pb-2 mb-3"},{default:n((()=>[i(k,{class:"border-bottom font-md pb-2 flex justify-between align-center"},{default:n((()=>[i(w,null,{default:n((()=>[o(u(h.bankData.bankName),1)])),_:1})])),_:1}),i(k,{class:"flex justify-between align-center"},{default:n((()=>[d("i",{class:"iconfont font-card font-weight-bolder color-test",style:{"max-width":"100upx"}},""),i(k,{class:"font-md",style:{width:"100%"}},{default:n((()=>[i(k,{class:"flex justify-start pt-1"},{default:n((()=>[i(k,{style:{width:"100upx","text-align":"right"}},{default:n((()=>[o("A/C:")])),_:1}),i(k,{class:"ml-2"},{default:n((()=>[o(u(h.bankData.cardNumber),1)])),_:1})])),_:1}),i(k,{class:"flex justify-start pt-1"},{default:n((()=>[i(k,{style:{width:"100upx","text-align":"right"}},{default:n((()=>[o("ifsc:")])),_:1}),i(k,{class:"ml-2"},{default:n((()=>[o(u(h.bankData.ifsc),1)])),_:1})])),_:1}),i(k,{class:"flex justify-start pt-1"},{default:n((()=>[i(k,{style:{width:"100upx","text-align":"right"}},{default:n((()=>[o("name:")])),_:1}),i(k,{class:"ml-2"},{default:n((()=>[o(u(h.bankData.payeeName),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),i(k,{class:"background-white border-radius-2 p-3 mt-3"},{default:n((()=>[i(k,{class:"font flex justify-between"},{default:n((()=>[i(w,null,{default:n((()=>[o("Withdrawal amount")])),_:1}),i(w,{class:"color-1 font-md font-weight-bold"},{default:n((()=>[o("₹ "+u(h.bankData.amount),1)])),_:1})])),_:1}),i(k,{class:"font flex justify-between mt-2"},{default:n((()=>[i(w,null,{default:n((()=>[o("orderCode")])),_:1}),i(w,{onClick:a[0]||(a[0]=t=>_.orderCodeHoled(h.bankData.orderCode))},{default:n((()=>[o(u(h.bankData.orderCode),1)])),_:1})])),_:1}),i(k,{class:"font flex justify-between mt-2"},{default:n((()=>[i(w,null,{default:n((()=>[o("Application Time")])),_:1}),i(w,{class:"color-test"},{default:n((()=>[o(u(h.bankData.createTime),1)])),_:1})])),_:1}),i(k,{class:"font flex justify-between mt-2"},{default:n((()=>[i(w,null,{default:n((()=>[o("Reply Time")])),_:1}),i(w,{class:"color-test"},{default:n((()=>[o(u(h.bankData.arrivalTime),1)])),_:1})])),_:1}),i(k,{class:"font flex justify-between mt-2"},{default:n((()=>[i(w,null,{default:n((()=>[o("utrNo")])),_:1}),i(w,{onClick:a[1]||(a[1]=t=>_.orderCodeHoled(h.bankData.utrNumber))},{default:n((()=>[o(u(h.bankData.utrNumber),1)])),_:1})])),_:1}),i(k,{class:"font flex justify-between mt-2"},{default:n((()=>[i(w,null,{default:n((()=>[o("Status")])),_:1}),i(w,{style:f(2==h.bankData.status?"color:#529b2e;":3==h.bankData.status?"color:red;":"")},{default:n((()=>[o(u(2==h.bankData.status?"Success":3==h.bankData.status?"fail":"Pending"),1)])),_:1},8,["style"])])),_:1}),2==h.bankData.status?(s(),l(k,{key:0,class:"font flex justify-between mt-2"},{default:n((()=>[i(w,null,{default:n((()=>[o("Confirm Status")])),_:1}),i(w,{style:f(2==h.bankData.customerStatus?"color:red;":"color:#529b2e;")},{default:n((()=>[o(u(2==h.bankData.customerStatus?"To be confirmed":"Confirm receipt"),1)])),_:1},8,["style"])])),_:1})):c("",!0),i(k,{class:"font flex justify-between mt-2"},{default:n((()=>[i(w,null,{default:n((()=>[o("Remark")])),_:1}),i(w,{class:"color-test"},{default:n((()=>[o(u(h.bankData.providerData),1)])),_:1})])),_:1}),2==h.bankData.customerStatus&&2==h.bankData.status?(s(),l(k,{key:1,class:"mt-3",style:{color:"red"}},{default:n((()=>[o("Tips: If you have received the payment, please click the button below to confirm. If you have multiple unconfirmed orders, we will disable your account")])),_:1})):c("",!0)])),_:1}),2==h.bankData.customerStatus&&2==h.bankData.status?(s(),l(k,{key:0,class:"btn-login font-lg mt-2 p-3 mt-6 border-radius-2 balens",onClick:_.ConfirmReceipt},{default:n((()=>[o("Confirm receipt ")])),_:1},8,["onClick"])):c("",!0)])),_:1})}]]);export{w as default};
